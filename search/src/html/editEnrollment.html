<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>search</title>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <!--<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">-->
    <link rel="stylesheet" href="../../plugin/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../plugin/icon/iconfont.css">
    <!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
    <!--<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">-->
    <link rel="stylesheet" href="../../plugin/bootstrap/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="../../plugin/bootstrap/css/datepicker.min.css">
    <link rel="stylesheet" href="../css/menu.css">
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/index.css">
</head>
<body>
<div id="index-box">
    <!--菜单------ start -->
    <div class="menu-nav">
        <div class="container-fluid">
            <div class="row">
                <div class="menuDiv" role="navigation">
                    <ul class="nav nav-list nav-first">
                        <li>
                            <a href="#">
                                <span class=" iconfont icon-zhuye" aria-hidden="true"></span>
                                <span class="icon-right iconfont icon-xia"></span>
                                <span>查询</span>
                            </a>
                            <ul class="nav nav-list nav-child">
                                <li><a href="index.html"><span class=" iconfont icon-zhuye" aria-hidden="true"></span><span>志愿查询</span></a></li>
                                <li><a href="addEnrollment.html"><span class=" iconfont icon-zhuye" aria-hidden="true"></span><span>添加志愿</span></a></li>
                                <li><a href="EnrollmentList.html"><span class=" iconfont icon-zhuye" aria-hidden="true"></span><span>志愿列表</span></a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="login.html">
                                <span class=" iconfont icon-zhuye" aria-hidden="true"></span>
                                <span>退出登录</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!--菜单------ end -->

    <!--右侧，展示主页    start-->
    <div id="container-box" class="container">
        <div class="index-main">
            <div style="overflow: hidden;border-bottom: 1px solid #dddddd">
                <h3 style="font-size:14px;font-family:inherit;font-weight:500;color:#6f7b8a">创建志愿</h3>
            </div>
            <form class="form-horizontal validate col-lg-9 col-md-9 col-sm-9" class="form-horizontal validate col-lg-12 col-md-12 col-sm-12" id="form_traditional_validation">
                <div class="form-group p-t-15">
                    <label class="col-lg-3 col-md-3 col-sm-3 control-label"><em class="text-danger">*&nbsp;</em>学生姓名</label>
                    <div class="col-lg-9 col-md-9 col-sm-9">
                        <input type="text" class="form-control" id="studentName" name="studentName" placeholder="请输入学生姓名">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-3 col-md-3 col-sm-3 control-label"><em class="text-danger">*&nbsp;</em>学生编号</label>
                    <div class="col-lg-9 col-md-9 col-sm-9">
                        <input type="text" class="form-control" id="studentNum" name="studentNum" placeholder="请输入学生编号">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-3 col-md-3 col-sm-3 control-label"><em class="text-danger">*&nbsp;</em>分数</label>
                    <div class="col-lg-9 col-md-9 col-sm-9">
                        <input type="text" class="form-control" id="score" name="score" placeholder="请输入分数">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-3 col-md-3 col-sm-3 control-label"><em class="text-danger">*&nbsp;</em>学生所在地</label>
                    <div class="col-lg-9 col-md-9 col-sm-9">
                        <select name="studentRegion" id="studentRegion" data-required="true" class="form-control">
                            <option value="">选择学生所在地</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-3 col-md-3 col-sm-3 control-label"><em class="text-danger">*&nbsp;</em>文理科</label>
                    <div class="col-lg-9 col-md-9 col-sm-9">
                        <select name="type" id="type" data-required="true" class="form-control">
                            <option value="">请选择文理科</option>
                            <option value="1">文科</option>
                            <option value="2">理科</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-3 col-md-3 col-sm-3 control-label"><em class="text-danger">*&nbsp;</em>学校专业</label>
                    <div class="col-lg-9 col-md-9 col-sm-9">
                        <select name="type" id="majorId" data-required="true" class="form-control">
                            <option value="">请选择学校专业</option>
                        </select>
                    </div>
                </div>
                <!--<div class="form-group">-->
                <!--<label class="col-lg-3 col-md-3 col-sm-3 control-label"><em class="text-danger">*&nbsp;</em>学校编号</label>-->
                <!--<div class="col-lg-9 col-md-9 col-sm-9">-->
                <!--<input type="text" class="form-control" id="universityId" name="universityId" placeholder="请输入学校编号">-->
                <!--</div>-->
                <!--</div>-->
                <div class="form-group p-t-15">
                    <label class="col-lg-3 col-md-3 col-sm-3 control-label"><em class="text-danger">*&nbsp;</em>学校名称</label>
                    <div class="col-lg-9 col-md-9 col-sm-9">
                        <select name="universityName" id="universityName" data-required="true" class="form-control">
                            <option value="">请输入学校名称</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-3 col-md-3 col-sm-3 control-label"><em class="text-danger">*&nbsp;</em>院校所在地</label>
                    <div class="col-lg-9 col-md-9 col-sm-9">
                        <select name="universityRegionId" id="universityRegionId" data-required="true" class="form-control">
                            <option value="">选择院校所在地</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-lg-3 col-md-3 col-sm-3 control-label"><em class="text-danger">*&nbsp;</em>录取年份</label>
                    <div class="col-lg-9 col-md-9 col-sm-9">
                        <select name="year" id="year" data-required="true" class="form-control">
                            <option value="">选择年份</option>
                            <option value="1">2009</option>
                            <option value="2">2010</option>
                            <option value="3">2011</option>
                            <option value="4">2012</option>
                            <option value="5">2013</option>
                            <option value="6">2014</option>
                            <option value="7">2015</option>
                            <option value="8">2016</option>
                            <option value="9">2017</option>
                            <option value="10">2018</option>
                        </select>
                    </div>
                </div>
                <!--<div class="form-group">-->
                <!--<label class="col-lg-3 control-label"><em class="text-danger">*&nbsp;</em>上传门前照</label>-->
                <!--<div class="col-lg-9 chuizhi-center">-->
                <!--<a href="javascript:;" class="file m-r-10" id="upload">选择文件-->
                <!--<input type="file" name="files" />-->
                <!--</a>-->
                <!--<div class="showFileName"></div>-->
                <!--&lt;!&ndash;<input type="file" name="files" />&ndash;&gt;-->
                <!--</div>-->
                <!--</div>-->
                <div class="form-group">
                    <label class="col-lg-3 col-md-3 col-sm-3 control-label"></label>
                    <div class="col-lg-9 col-md-9 col-sm-9">
                        <input type="hidden" name="act" value="add">
                        <a href="#" id="submit1" class="btn btn-success btn-small m-r-10">保存</a>
                        <a href="EnrollmentList.html" type="reset" class="btn btn-danger btn-small">取消</a>
                    </div>
                </div>
            </form>
        </div>
        <!--右侧，展示主页    end-->
    </div>





    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <!--<script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>-->
    <script src="../../plugin/jquery/jquery.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script type="text/javascript" src="../../plugin/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../plugin/bootstrap/js/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="../../plugin/bootstrap/js/bootstrap-datepicker.min.js"></script>
    <!--<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>-->
    <script src="../js/menu.js"></script>

    <script>
        $(function () {
            var id = localStorage.getItem('Enrid')
            function  chushihua() {
                $.ajax({
                    url:'localhost:8088/enrollment/getEnrollmentDetail',
                    type:'GET',
                    data:{id:id},
                    success:function(resp){
                        console.log(resp.content)
                        //初始化
                        studentName:$('#studentName').val(resp.content.studentName);
                        studentNum:$('#studentNum').val(resp.content.studentNum);
                        type:$('#type') .val(resp.content.type);   //学校类型
                        universityRegionId :$('#universityRegionId').val(resp.content.universityRegionId);//学校所在地
                        score:$('#score').val(resp.content.score);
                        majorId:$('#majorId').val(resp.content.majorId);
                        studentRegion:$('#studentRegion').val(resp.content.studentRegion);
                        universityId:$('#universityName').val(resp.content.universityId);
                        year:$('#year option:selected').text(resp.content.year);
                        universityName:$('#universityName').val(resp.content.universityId);
                    }
                })
            }
            $('#submit1').on('click',function(){
                var parms = {
                    studentName:$('#studentName').val(),
                    studentNum:$('#studentNum').val(),
                    type:$('#type option:selected') .val(),   //学校类型
                    universityRegionId :$('#universityRegionId option:selected').val(),//学校所在地
                    score:$('#score').val(),
                    majorId:$('#majorId option:selected').val(),
                    studentRegion:$('#studentRegion option:selected').val(),
                    universityId:$('#universityName option:selected').val(),
                    year:$('#year option:selected').text(),
                    universityName:$('#universityName option:selected').text(),
                    id:id
                }
                $.ajax({
                    url:'localhost:8088/enrollment/edit',
                    type:'POST',
                    contentType: "application/json",
                    data:JSON.stringify(parms),
                    success:function(resp){
                        window.location.href='EnrollmentList.html'
                    }
                })
                console.log(parms)
            })
            function getAddr() {
                $.ajax({
                    url:'localhost:8088/region/getRegionList',
                    type:"GET",
                    data:{},
                    success:function(resp){
                        var option = '';
                        for(var i=0;i<resp.content.length;i++){
                            option += '<option value="'+resp.content[i].id+'">'+resp.content[i].name+'</option>'
                        }
                        $('#studentRegion').append(option);
                        $('#universityRegionId').append(option);
                    }
                })
                chushihua();
            };
            function getMajorList(){
                $.ajax({
                    url:'localhost:8088/major/getMajorList',
                    type:"GET",
                    success:function (resp) {
                        console.log(resp.content);
                        var option = '';
                        for(var i=0;i<resp.content.length;i++){
                            option += '<option value="'+resp.content[i].id+'">'+resp.content[i].majorName+'</option>'
                        }
                        $('#majorId').append(option);
                    }
                })
                chushihua();
            };
            function  getUniversity() {
                $.ajax({
                    url:'localhost:8088/university/getUnivertyList',
                    type:"GET",
                    data:{},
                    success:function(resp){
                        console.log(resp)
                        var option = '';
                        for(var i=0;i<resp.content.length;i++){
                            option += '<option value="'+resp.content[i].id+'">'+resp.content[i].universityName+'</option>'
                        }
                        $('#universityName').append(option);
                    }
                })
                chushihua();
            }
            getAddr();
            getMajorList();
            getUniversity();
        });

    </script>
</body>

</html>